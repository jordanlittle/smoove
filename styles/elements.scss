//    CONTENTS
//    ========
//    Global Rules
//    Body/HTML
//    Typography
//    Links
//    Forms
//    Media
//    Tables




// ----------------------------------------
// Global Rules
// ----------------------------------------

*,
*:before,
*:after,
input {
    @include box-sizing(border-box);
}

::selection,
::-moz-selection {
    background-color: lighten($color-brand, 50%);
}




// ----------------------------------------
// Body/HTML
// ----------------------------------------

body,
html {
    width:100%;
    height:100%;
    min-height:100%;
    -webkit-text-size-adjust: 100%; // prevents OS font resizing on orientation change
        -ms-text-size-adjust: 100%;
}

body {
    font-size: $base-font-size;
    line-height: $base-line-height;
}




// ----------------------------------------
// Typography
// ----------------------------------------

h1, h2, h3, h4, h5, h6 {
    font-weight:bold;
}

h1 {
    font-size:      $h1-font-size;
    line-height:    $h1-line-height;
    margin-top:     $h1-margin-top;
    margin-bottom:  $h1-margin-bottom;
}

h2 {
    font-size:      $h2-font-size;
    line-height:    $h2-line-height;
    margin-top:     $h2-margin-top;
    margin-bottom:  $h2-margin-bottom;
}

h3 {
    font-size:      $h3-font-size;
    line-height:    $h3-line-height;
    margin-top:     $h3-margin-top;
    margin-bottom:  $h3-margin-bottom;
    
}

h4, h5, h6 {
    font-size:      $h4-font-size;
    line-height:    $h4-line-height;
    margin-top:     $h4-margin-top;
    margin-bottom:  $h4-margin-bottom;
}

p, ul, ol, pre, table, blockquote, nav, form {
    margin-top:     1.625em;
    margin-bottom:  1.625em;
}

hr {
    border: 1px solid $color-light-gray;
    margin-bottom: 1.625em;
}

h1 + hr, h2 + hr, h3 + hr,
h4 + hr, h5 + hr, h6 + hr {
    margin-top:-1.65em;
}

ul,
ol {
    margin-left:1.75em;
    list-style: disc;

    li {
        margin-bottom:.3em;

        &:last-child {
            margin-bottom: 0;
        }
    }
}

ol {
    list-style:decimal;
}

ul ul,
ol ol,
ul ol,
ol ul {
    margin-top:0;
    margin-bottom:0;
}

b, strong, em, small, code, nav {
    line-height: 1;
}

small {
    font-size:.75em;
}

h1 small, h2 small, h3 small,
h4 small, h5 small, h6 small {
    color:$color-text-light;
    font-weight:normal;
}

pre {
    padding:.65em;
    overflow:hidden;
    @extend %rounded;
    border:1px solid darken($color-light-gray, 10%);
    border-collapse: collapse;
    width:100%;
    overflow-y:hidden;
    overflow-x:scroll;
    -ms-overflow-style: -ms-autohiding-scrollbar;
    -webkit-overflow-scrolling: touch;
    display:block;

    @include context(hand-wide) {
        overflow-x: auto;
        overflow-y: auto;
    }
}

code, pre, kbd, samp {
    background: $color-light-gray;
    font-family: monospace;
    font-size: .9em;
}

sup {
    vertical-align: baseline;
    position:relative;
    top:-.4em;
}

sub {
    bottom:-.4em;
}

strong {
    font-weight:bold;
}

em {
    font-style:italic;
}

blockquote {
    padding-left:1em;
    border-left:5px solid $color-light-gray;

    cite {
        display:block;
        color:$color-text-light;
        
        &:before {
            content: "— ";
        }
    }
}




// ----------------------------------------
// Links
// ----------------------------------------

a {
    text-decoration: none;
    color: $color-brand-dark;
}

h1 a, h2 a, h3 a,
h4 a, h5 a, h6 a {
    border-bottom:1px solid;
    padding:2px;

    &:hover {
        border-bottom-width:2px;
    }
}

p a {
    border-bottom: 1px solid;
    padding:.125em .125em 0 .125em;

    &:hover {
        border-bottom-width: 2px;
    }
}




// ----------------------------------------
// Forms
// ----------------------------------------

fieldset {
    margin-bottom:.5em;
}

button,
input,
optgroup,
select,
textarea {
  border: 1px solid $color-input-border;
  @include border-radius(3px);
  vertical-align:middle;

  &:focus {
      @include box-shadow(inset 0 1px 2px rgba(0,0,0,.2));
      outline:0;
      border-color:darken($color-input-border, 20%);
  }
}

label {
    display:block;
    font-size:.9em;
    line-height:1em;
    margin:0 0 .125em;
}

[type="text"],
[type="search"],
[type="email"],
textarea {
    -webkit-appearance:none;
    -webkit-border-radius:none;
    border-radius:none;
    padding:.35em .5em .375em;
    margin:0;
}

[type="text"],
[type="search"],
[type="email"],
textarea,
select:focus,
select:hover {
    color: $color-text;
}

select {
    line-height:2.187em;
    height:2.187em;
    color: $color-text-light;
    margin:0;
    cursor:pointer;

    @include context(hidpi) {
        // hack for Android Browser not displaying down-arrow for select boxes
        -webkit-appearance: listbox;
        background-image: url(data:image/png;base64,R0lGODlhDQAEAIAAAAAAAP8A/yH5BAEHAAEALAAAAAANAAQAAAILhA+hG5jMDpxvhgIAOw==); // simple arrow image
        background-repeat: no-repeat;
        background-position: right center;
        padding-left: .5em;
    }
}

::-webkit-input-placeholder,
::-moz-placeholder,
:-moz-placeholder,
:-ms-input-placeholder {
   color: $color-text-light;
}




// ----------------------------------------
// Media
// ----------------------------------------

img {
    width:100%;
    max-width:100%;
    height:auto;
    border: 0; // Remove border when inside `a` element in IE 8/9/10.

    @include context(tablet) {
        width:auto;
        max-width:100%;
    }
}




// ----------------------------------------
// Tables
// ----------------------------------------

table {
  border-collapse: collapse;
  display:table;
  border-spacing: 0;
  width:100%;
  overflow-y:hidden;
  overflow-x:scroll;
  @extend %rounded;
  -ms-overflow-style: -ms-autohiding-scrollbar;
  -webkit-overflow-scrolling: touch;

  th, td {
      border:1px solid $color-light-gray;
  }

  th {
      background: $color-light-gray;
      font-weight:bold;
      padding:.8em .85em;
  }

  td {
      font-size:.9em;
      padding:.8em 1em;
  }

  @include context(hand-wide) {
      overflow-x: auto;
      overflow-y: auto;
  }
}
